{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CourseListComponent = class CourseListComponent {\n  constructor(danceService) {\n    this.danceService = danceService;\n    this.courses = [];\n    this.danceSchools = []; // Liste des écoles de danse\n  }\n\n  ngOnInit() {\n    this.loadCourses();\n    this.loadDanceSchools(); // Charger les écoles de danse pour afficher leurs noms\n  }\n\n  loadCourses() {\n    this.danceService.getAllCourses().subscribe({\n      next: data => {\n        this.courses = data;\n      },\n      error: err => {\n        console.error('Erreur lors de la récupération des cours', err);\n      }\n    });\n  }\n  loadDanceSchools() {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: data => {\n        this.danceSchools = data; // Remplir la liste des écoles de danse\n      },\n\n      error: err => {\n        console.error('Erreur lors de la récupération des écoles de danse', err);\n      }\n    });\n  }\n  deleteCourse(id) {\n    this.danceService.deleteCourse(id).subscribe({\n      next: () => {\n        this.loadCourses(); // Recharger la liste après la suppression\n      },\n\n      error: err => {\n        console.error('Erreur lors de la suppression du cours', err);\n      }\n    });\n  }\n  getDanceSchoolName(schoolId) {\n    const school = this.danceSchools.find(s => s.id === schoolId);\n    return school ? school.name : 'Inconnu';\n  }\n};\nCourseListComponent = __decorate([Component({\n  selector: 'app-course-list',\n  templateUrl: './course-list.component.html',\n  styleUrls: ['./course-list.component.css']\n})], CourseListComponent);\nexport { CourseListComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAHhC,YAAO,GAAa,EAAE;IACtB,iBAAY,GAAkB,EAAE,CAAC,CAAC;EAEe;;EAEjDC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,gBAAgB,EAAE,CAAC,CAAC;EAC3B;;EAEAD,WAAW;IACT,IAAI,CAACF,YAAY,CAACI,aAAa,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,OAAO,GAAGD,IAAI;MACrB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,0CAA0C,EAAEC,GAAG,CAAC;MAChE;KACD,CAAC;EACJ;EAEAP,gBAAgB;IACd,IAAI,CAACH,YAAY,CAACY,kBAAkB,EAAE,CAACP,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACM,YAAY,GAAGN,IAAI,CAAC,CAAC;MAC5B,CAAC;;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,oDAAoD,EAAEC,GAAG,CAAC;MAC1E;KACD,CAAC;EACJ;EAEAI,YAAY,CAACC,EAAU;IACrB,IAAI,CAACf,YAAY,CAACc,YAAY,CAACC,EAAE,CAAC,CAACV,SAAS,CAAC;MAC3CC,IAAI,EAAE,MAAK;QACT,IAAI,CAACJ,WAAW,EAAE,CAAC,CAAC;MACtB,CAAC;;MACDO,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,wCAAwC,EAAEC,GAAG,CAAC;MAC9D;KACD,CAAC;EACJ;EAEAM,kBAAkB,CAACC,QAAgB;IACjC,MAAMC,MAAM,GAAG,IAAI,CAACL,YAAY,CAACM,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACL,EAAE,KAAKE,QAAQ,CAAC;IAC7D,OAAOC,MAAM,GAAGA,MAAM,CAACG,IAAI,GAAG,SAAS;EACzC;CACD;AAhDYvB,mBAAmB,eAL/BD,SAAS,CAAC;EACTyB,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACW1B,mBAAmB,CAgD/B;SAhDYA,mBAAmB","names":["Component","CourseListComponent","constructor","danceService","ngOnInit","loadCourses","loadDanceSchools","getAllCourses","subscribe","next","data","courses","error","err","console","getAllDanceSchools","danceSchools","deleteCourse","id","getDanceSchoolName","schoolId","school","find","s","name","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Spring-Angular\\dancefrontend\\src\\app\\src\\app\\backofficecrud\\course\\course-list\\course-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Course } from '../../../models/course.model';\nimport { DanceService } from '../../../services/dance.service';\nimport { DanceSchool } from '../../../models/dance-school.model';\n\n@Component({\n  selector: 'app-course-list',\n  templateUrl: './course-list.component.html',\n  styleUrls: ['./course-list.component.css']\n})\nexport class CourseListComponent implements OnInit {\n  courses: Course[] = [];\n  danceSchools: DanceSchool[] = []; // Liste des écoles de danse\n\n  constructor(private danceService: DanceService) {}\n\n  ngOnInit(): void {\n    this.loadCourses();\n    this.loadDanceSchools(); // Charger les écoles de danse pour afficher leurs noms\n  }\n\n  loadCourses(): void {\n    this.danceService.getAllCourses().subscribe({\n      next: (data) => {\n        this.courses = data;\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des cours', err);\n      }\n    });\n  }\n\n  loadDanceSchools(): void {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: (data) => {\n        this.danceSchools = data; // Remplir la liste des écoles de danse\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des écoles de danse', err);\n      }\n    });\n  }\n\n  deleteCourse(id: number): void {\n    this.danceService.deleteCourse(id).subscribe({\n      next: () => {\n        this.loadCourses(); // Recharger la liste après la suppression\n      },\n      error: (err) => {\n        console.error('Erreur lors de la suppression du cours', err);\n      }\n    });\n  }\n\n  getDanceSchoolName(schoolId: number): string {\n    const school = this.danceSchools.find(s => s.id === schoolId);\n    return school ? school.name : 'Inconnu';\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}