{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/dance.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/crud/school-update\", a1];\n};\nfunction SchoolListComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"a\", 3);\n    i0.ɵɵtext(17, \"Modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function SchoolListComponent_tr_23_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const school_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteSchool(school_r1.id));\n    });\n    i0.ɵɵtext(19, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const school_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.localisation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.openday);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.closeday);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.opentime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.closetime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(school_r1.danceCategory == null ? null : school_r1.danceCategory.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, school_r1.id));\n  }\n}\nexport class SchoolListComponent {\n  constructor(danceService) {\n    this.danceService = danceService;\n    this.schools = [];\n  }\n  ngOnInit() {\n    this.getSchools();\n  }\n  getSchools() {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: data => {\n        this.schools = data;\n      },\n      error: err => {\n        console.error('Erreur lors de la récupération des écoles', err);\n      }\n    });\n  }\n  deleteSchool(id) {\n    if (confirm('Êtes-vous sûr de vouloir supprimer cette école ?')) {\n      this.danceService.deleteDanceSchool(id).subscribe({\n        next: () => {\n          this.getSchools(); // Recharger la liste des écoles\n        },\n\n        error: err => {\n          console.error('Erreur lors de la suppression de l\\'école', err);\n        }\n      });\n    }\n  }\n  onReturn() {\n    this.router.navigate(['crud/school-list']); // Redirection vers la liste des écoles\n  }\n\n  static {\n    this.ɵfac = function SchoolListComponent_Factory(t) {\n      return new (t || SchoolListComponent)(i0.ɵɵdirectiveInject(i1.DanceService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SchoolListComponent,\n      selectors: [[\"app-school-list\"]],\n      decls: 24,\n      vars: 1,\n      consts: [[1, \"container\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", \"btn-sm\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n      template: function SchoolListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Liste des \\u00E9coles de danse\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n          i0.ɵɵtext(7, \"Nom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"th\");\n          i0.ɵɵtext(9, \"Localisation\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"th\");\n          i0.ɵɵtext(11, \"Jour d'ouverture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\");\n          i0.ɵɵtext(13, \"Jour de fermeture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\");\n          i0.ɵɵtext(15, \"Heure d'ouverture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Heure de fermeture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\");\n          i0.ɵɵtext(19, \"Cat\\u00E9gorie de danse\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"th\");\n          i0.ɵɵtext(21, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"tbody\");\n          i0.ɵɵtemplate(23, SchoolListComponent_tr_23_Template, 20, 10, \"tr\", 2);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(23);\n          i0.ɵɵproperty(\"ngForOf\", ctx.schools);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.RouterLink],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;;;;;IAgBMA,0BAAmC;IAC7BA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,0BAAI;IAAAA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,aAAqB;IAAAA,iBAAK;IAC9BA,2BAAI;IAAAA,aAAsB;IAAAA,iBAAK;IAC/BA,2BAAI;IAAAA,aAAgC;IAAAA,iBAAK;IACzCA,2BAAI;IACkFA,yBAAQ;IAAAA,iBAAI;IAChGA,kCAAwE;IAAhEA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAA+BA,0BAAS;IAAAA,iBAAS;;;;IATxFA,eAAiB;IAAjBA,oCAAiB;IACjBA,eAAyB;IAAzBA,4CAAyB;IACzBA,eAAoB;IAApBA,uCAAoB;IACpBA,eAAqB;IAArBA,wCAAqB;IACrBA,eAAqB;IAArBA,wCAAqB;IACrBA,eAAsB;IAAtBA,yCAAsB;IACtBA,eAAgC;IAAhCA,2FAAgC;IAE/BA,eAAiD;IAAjDA,qEAAiD;;;AChB9D,OAAM,MAAOC,mBAAmB;EAG9BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAFhC,YAAO,GAAkB,EAAE;EAEsB;EAEjDC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACF,YAAY,CAACG,kBAAkB,EAAE,CAACC,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,OAAO,GAAGD,IAAI;MACrB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,2CAA2C,EAAEC,GAAG,CAAC;MACjE;KACD,CAAC;EACJ;EAEAE,YAAY,CAACC,EAAU;IACrB,IAAIC,OAAO,CAAC,kDAAkD,CAAC,EAAE;MAC/D,IAAI,CAACb,YAAY,CAACc,iBAAiB,CAACF,EAAE,CAAC,CAACR,SAAS,CAAC;QAChDC,IAAI,EAAE,MAAK;UACT,IAAI,CAACH,UAAU,EAAE,CAAC,CAAC;QACrB,CAAC;;QACDM,KAAK,EAAGC,GAAG,IAAI;UACbC,OAAO,CAACF,KAAK,CAAC,2CAA2C,EAAEC,GAAG,CAAC;QACjE;OACD,CAAC;;EAEN;EACAM,QAAQ;IACN,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;EAC9C;;;;uBAlCWnB,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAAoB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDThCzB,8BAAuB;UACjBA,8CAAyB;UAAAA,iBAAK;UAClCA,gCAAmC;UAGzBA,mBAAG;UAAAA,iBAAK;UACZA,0BAAI;UAAAA,4BAAY;UAAAA,iBAAK;UACrBA,2BAAI;UAAAA,iCAAgB;UAAAA,iBAAK;UACzBA,2BAAI;UAAAA,kCAAiB;UAAAA,iBAAK;UAC1BA,2BAAI;UAAAA,kCAAiB;UAAAA,iBAAK;UAC1BA,2BAAI;UAAAA,mCAAkB;UAAAA,iBAAK;UAC3BA,2BAAI;UAAAA,wCAAkB;UAAAA,iBAAK;UAC3BA,2BAAI;UAAAA,wBAAO;UAAAA,iBAAK;UAGpBA,8BAAO;UACLA,sEAYK;UACPA,iBAAQ;;;UAbiBA,gBAAU;UAAVA,qCAAU","names":["i0","SchoolListComponent","constructor","danceService","ngOnInit","getSchools","getAllDanceSchools","subscribe","next","data","schools","error","err","console","deleteSchool","id","confirm","deleteDanceSchool","onReturn","router","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Spring-Angular\\dancefrontend\\src\\app\\src\\app\\backofficecrud\\dance-school\\school-list\\school-list.component.html","C:\\Users\\htismaila4\\Desktop\\Spring-Angular\\dancefrontend\\src\\app\\src\\app\\backofficecrud\\dance-school\\school-list\\school-list.component.ts"],"sourcesContent":["<div class=\"container\">\n  <h2>Liste des écoles de danse</h2>\n  <table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th>Nom</th>\n        <th>Localisation</th>\n        <th>Jour d'ouverture</th>\n        <th>Jour de fermeture</th>\n        <th>Heure d'ouverture</th>\n        <th>Heure de fermeture</th>\n        <th>Catégorie de danse</th> <!-- Affichage du nom de la catégorie -->\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let school of schools\">\n        <td>{{ school.name }}</td>\n        <td>{{ school.localisation }}</td>\n        <td>{{ school.openday }}</td>\n        <td>{{ school.closeday }}</td>\n        <td>{{ school.opentime }}</td>\n        <td>{{ school.closetime }}</td>\n        <td>{{ school.danceCategory?.name }}</td> <!-- Affichage du nom de la catégorie -->\n        <td>\n          <a [routerLink]=\"['/crud/school-update', school.id]\" class=\"btn btn-warning btn-sm\">Modifier</a>\n          <button (click)=\"deleteSchool(school.id)\" class=\"btn btn-danger btn-sm\">Supprimer</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { DanceSchool } from '../../../models/dance-school.model';\nimport { DanceService } from '../../../services/dance.service';\n\n@Component({\n  selector: 'app-school-list',\n  templateUrl: './school-list.component.html',\n  styleUrls: ['./school-list.component.css']\n})\nexport class SchoolListComponent implements OnInit {\n  schools: DanceSchool[] = [];\n\n  constructor(private danceService: DanceService) {}\n\n  ngOnInit(): void {\n    this.getSchools();\n  }\n\n  getSchools(): void {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: (data) => {\n        this.schools = data;\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des écoles', err);\n      }\n    });\n  }\n\n  deleteSchool(id: number): void {\n    if (confirm('Êtes-vous sûr de vouloir supprimer cette école ?')) {\n      this.danceService.deleteDanceSchool(id).subscribe({\n        next: () => {\n          this.getSchools(); // Recharger la liste des écoles\n        },\n        error: (err) => {\n          console.error('Erreur lors de la suppression de l\\'école', err);\n        }\n      });\n    }\n  }\n  onReturn(): void {\n    this.router.navigate(['crud/school-list']); // Redirection vers la liste des écoles\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}