{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/dance.service\";\nexport class CourseListComponent {\n  constructor(danceService) {\n    this.danceService = danceService;\n    this.courses = [];\n    this.danceSchools = []; // Liste des écoles de danse\n  }\n\n  ngOnInit() {\n    this.loadCourses();\n    this.loadDanceSchools(); // Charger les écoles de danse pour afficher leurs noms\n  }\n\n  loadCourses() {\n    this.danceService.getAllCourses().subscribe({\n      next: data => {\n        this.courses = data;\n      },\n      error: err => {\n        console.error('Erreur lors de la récupération des cours', err);\n      }\n    });\n  }\n  loadDanceSchools() {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: data => {\n        this.danceSchools = data; // Remplir la liste des écoles de danse\n      },\n\n      error: err => {\n        console.error('Erreur lors de la récupération des écoles de danse', err);\n      }\n    });\n  }\n  deleteCourse(id) {\n    this.danceService.deleteCourse(id).subscribe({\n      next: () => {\n        this.loadCourses(); // Recharger la liste après la suppression\n      },\n\n      error: err => {\n        console.error('Erreur lors de la suppression du cours', err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function CourseListComponent_Factory(t) {\n      return new (t || CourseListComponent)(i0.ɵɵdirectiveInject(i1.DanceService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourseListComponent,\n      selectors: [[\"app-course-list\"]],\n      decls: 2,\n      vars: 0,\n      template: function CourseListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"course-list works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;AAUA,OAAM,MAAOA,mBAAmB;EAI9BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAHhC,YAAO,GAAa,EAAE;IACtB,iBAAY,GAAkB,EAAE,CAAC,CAAC;EAEe;;EAEjDC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,gBAAgB,EAAE,CAAC,CAAC;EAC3B;;EAEAD,WAAW;IACT,IAAI,CAACF,YAAY,CAACI,aAAa,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,OAAO,GAAGD,IAAI;MACrB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,0CAA0C,EAAEC,GAAG,CAAC;MAChE;KACD,CAAC;EACJ;EAEAP,gBAAgB;IACd,IAAI,CAACH,YAAY,CAACY,kBAAkB,EAAE,CAACP,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACM,YAAY,GAAGN,IAAI,CAAC,CAAC;MAC5B,CAAC;;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,oDAAoD,EAAEC,GAAG,CAAC;MAC1E;KACD,CAAC;EACJ;EAEAI,YAAY,CAACC,EAAU;IACrB,IAAI,CAACf,YAAY,CAACc,YAAY,CAACC,EAAE,CAAC,CAACV,SAAS,CAAC;MAC3CC,IAAI,EAAE,MAAK;QACT,IAAI,CAACJ,WAAW,EAAE,CAAC,CAAC;MACtB,CAAC;;MACDO,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,wCAAwC,EAAEC,GAAG,CAAC;MAC9D;KACD,CAAC;EACJ;;;uBA1CWZ,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAAkB;MAAAC;MAAAC;MAAAC;QAAA;UCVhCC,yBAAG;UAAAA,kCAAkB;UAAAA,iBAAI","names":["CourseListComponent","constructor","danceService","ngOnInit","loadCourses","loadDanceSchools","getAllCourses","subscribe","next","data","courses","error","err","console","getAllDanceSchools","danceSchools","deleteCourse","id","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Spring-Angular\\dancefrontend\\src\\app\\src\\app\\backofficecrud\\course\\course-list\\course-list.component.ts","C:\\Users\\htismaila4\\Desktop\\Spring-Angular\\dancefrontend\\src\\app\\src\\app\\backofficecrud\\course\\course-list\\course-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Course } from '../../../models/course.model';\nimport { DanceService } from '../../../services/dance.service';\nimport { DanceSchool } from '../../../models/dance-school.model'; // Assurez-vous que le chemin est correct\n\n@Component({\n  selector: 'app-course-list',\n  templateUrl: './course-list.component.html',\n  styleUrls: ['./course-list.component.css']\n})\nexport class CourseListComponent implements OnInit {\n  courses: Course[] = [];\n  danceSchools: DanceSchool[] = []; // Liste des écoles de danse\n\n  constructor(private danceService: DanceService) {}\n\n  ngOnInit(): void {\n    this.loadCourses();\n    this.loadDanceSchools(); // Charger les écoles de danse pour afficher leurs noms\n  }\n\n  loadCourses(): void {\n    this.danceService.getAllCourses().subscribe({\n      next: (data) => {\n        this.courses = data;\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des cours', err);\n      }\n    });\n  }\n\n  loadDanceSchools(): void {\n    this.danceService.getAllDanceSchools().subscribe({\n      next: (data) => {\n        this.danceSchools = data; // Remplir la liste des écoles de danse\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des écoles de danse', err);\n      }\n    });\n  }\n\n  deleteCourse(id: number): void {\n    this.danceService.deleteCourse(id).subscribe({\n      next: () => {\n        this.loadCourses(); // Recharger la liste après la suppression\n      },\n      error: (err) => {\n        console.error('Erreur lors de la suppression du cours', err);\n      }\n    });\n  }\n}","<p>course-list works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}